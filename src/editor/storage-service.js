function t(t){const s=t.videos;if(s.length>0&&"string"!=typeof s[0]){const e=s.map((t=>t.videoId));t=Object.assign(Object.assign({},t),{videos:e})}return t}if(window.saveRecentPlaylist=async s=>{localStorage.setItem(s.id,JSON.stringify(t(s)))},"undefined"!=typeof browser){const s=browser.storage.sync,e="PlaylistIdCounter";window.generatePlaylistId=async()=>{const t=await s.get(e);let n=t[e]||0;return n++,t[e]=n,s.set(t),n};const n="playlist_";window.savePlaylist=async e=>{const i={};i[n+e.id]=JSON.stringify(t(e)),s.set(i)}}else window.location.protocol.startsWith("http")&&(window.generatePlaylistId=async()=>Date.now().toString(),window.savePlaylist=window.saveRecentPlaylist);
