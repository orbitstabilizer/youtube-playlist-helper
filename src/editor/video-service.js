let e=100;window.youtubeRegexPattern=/(?:https?:\/\/)?(?:www\.)?youtu(?:\.be\/|be.com\/\S*(?:watch|embed)(?:(?:(?=\/[^&\s\?]+(?!\S))\/)|(?:\S*v=|v\/)))([^&\s\?]+)/.source,window.fetchVideo=async t=>{const i=await fetch(`https://www.youtube.com/get_video_info?video_id=${t}`,{headers:{origin:"https://www.youtube.com"}}),o=await i.text(),a=new URLSearchParams(o).get("player_response"),{videoDetails:w}=JSON.parse(a);return{id:e++,videoId:t,url:"https://www.youtube.com/watch?v="+t,title:w.title,channel:w.author,thumbnailUrl:"https://i.ytimg.com/vi/"+t+"/default.jpg"}},window.parseYoutubeId=e=>{const t=RegExp(window.youtubeRegexPattern,"i").exec(e);return t&&t.length>1?t[1]:null},window.generatePlaylist=async e=>{const t=await window.generatePlaylistId(),i=new Date;return{id:t,title:i.toLocaleString(),videos:e,timestamp:i.getTime()}};
